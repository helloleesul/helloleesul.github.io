---
date: '2023-10-05'
title: 'navigator.clipobard Web API'
categories: ['íŠ¸ëŸ¬ë¸”ìŠˆíŒ…']
summary: 'ì—˜ë¦¬ìŠ¤ 1ì°¨ ì‡¼í•‘ëª° í”„ë¡œì íŠ¸ ì‘ì—… ì¤‘ ë°œìƒí•œ ë³µì‚¬í•˜ê¸° ê¸°ëŠ¥ ì˜¤ë¥˜'
thumbnail: '../development/mvc-design-pattern.png'
---

# ë³µì‚¬í•˜ê¸° ê¸°ëŠ¥ ì˜¤ë¥˜

ì—˜ë¦¬ìŠ¤ 1ì°¨ í”„ë¡œì íŠ¸ íŒ”ì´í”¼í”Œ ì‡¼í•‘ëª° ì‚¬ì´íŠ¸ ì‘ì—… ì¤‘ ë°œìƒí•œ ì˜¤ë¥˜

```jsx
const orderId = new URL(urlStr).searchParams.get('orderId');
guestModeEl.innerHTML = `ì£¼ë¬¸ë²ˆí˜¸ <button type="button" id="order-id">${orderId}</button>ì™€ ë¹„ë°€ë²ˆí˜¸ë¥¼ ê¸°ì–µí•´ì£¼ì„¸ìš”!`;
const orderIdCopy = document.querySelector('#order-id');

orderIdCopy.addEventListener('click', async () => {
  try {
    await navigator.clipboard.writeText(orderId);
    alert(`ì£¼ë¬¸ë²ˆí˜¸: ${orderId}`);
  } catch (err) {
    console.log('ë³µì‚¬ì‹¤íŒ¨', err);
  }
});
```

---

## 1. ë¬¸ì œ ì •ì˜

ë°°í¬ í›„, ê²°ì œì™„ë£Œ í˜ì´ì§€ì—ì„œ êµ¬í˜„í•œ ì£¼ë¬¸ë²ˆí˜¸ ë³µì‚¬í•˜ê¸° ê¸°ëŠ¥ì´ ë˜ì§€ì•ŠëŠ” ë¬¸ì œë¥¼ ë°œê²¬í–ˆë‹¤.

---

## 2. ì‚¬ì‹¤ ìˆ˜ì§‘

ì½˜ì†”ì— `navigator.clipboard is undefined` ë¼ëŠ” ì—ëŸ¬ë¥¼ í™•ì¸í–ˆê³ , ë¡œì»¬ì„œë²„ í™˜ê²½ì—ì„œëŠ” ì •ìƒì‘ë™ì´ ë˜ëŠ” ê²ƒì„ í™•ì¸í–ˆê¸° ë•Œë¬¸ì— ë°°í¬ì„œë²„ í™˜ê²½ì—ì„œ ë‚˜íƒ€ë‚˜ëŠ” ë¬¸ì œë¡œ ì¸ì‹í•˜ì˜€ë‹¤.

---

## 3. ì›ì¸ ì¶”ë¡ 

ì‚¬ìš©í•œ ì½”ë“œëŠ” Web APIì¸ `Clipboard API`ì´ê³ , mdn ê³µì‹ë¬¸ì„œì—ì„œ í™•ì¸í•´ë³¸ ê²°ê³¼ í•´ë‹¹ APIëŠ” ë³´ì•ˆ ì»¨í…ìŠ¤íŠ¸(HTTPS)ë‚˜ localhost ì—ì„œë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê²ƒìœ¼ë¡œ í™•ì¸ë˜ì—ˆë‹¤.

ë•Œë¬¸ì— localhost ì£¼ì†Œì˜€ë˜ ë¡œì»¬ì„œë²„ì—ì„œëŠ” ë¬¸ì œì—†ì´ ì‘ë™ë˜ì—ˆì§€ë§Œ ë°°í¬ì„œë²„ëŠ” HTTP í™˜ê²½ì´ì–´ì„œ ì‘ë™ì´ ë˜ì§€ ì•Šì•˜ë˜ ê²ƒì´ë‹¤.

[ğŸ”— ì°¸ê³ ìë£Œ | Clipboard - Web APIs | MDN](https://developer.mozilla.org/en-US/docs/Web/API/Clipboard)

---

## 4. ì¡°ì‚¬ë°©ë²• ê²°ì •

ë°°í¬ì„œë²„ëŠ” HTTP í”„ë¡œí† ì½œì´ê¸° ë•Œë¬¸ì— HTTPS í”„ë¡œí† ì½œ í™˜ê²½ìœ¼ë¡œ ë‹¤ì‹œ ë°°í¬í•˜ì—¬ ê¸°ëŠ¥ì´ ì •ìƒ ì‘ë™í•  ìˆ˜ ìˆë„ë¡ Clipboard APIë¥¼ ì‚¬ìš©í•˜ê±°ë‚˜, ë‹¤ë¥¸ë°©ë²•ì„ ì°¾ì•„ ë³µì‚¬í•˜ê¸° ê¸°ëŠ¥ì„ êµ¬í˜„í•´ì•¼í–ˆë‹¤.

1. **ì‚¬ìš©ìê°€ ì§ì ‘ ë¸Œë¼ìš°ì € ì„¤ì •í•˜ê¸°**  
   ì¡°ì‚¬í•´ë³´ë‹ˆ HTTPì—ì„œ í•´ê²°í•  ìˆ˜ ìˆëŠ” ë°©ë²•ë„ ìˆì—ˆëŠ”ë°, ì‚¬ìš©ìê°€ ì§ì ‘ ë¸Œë¼ìš°ì €ì—ì„œ ë°©ë¬¸í•  ì‚¬ì´íŠ¸ì˜ ì£¼ì†Œ ì•ˆì „í•œê²ƒìœ¼ë¡œ ì·¨ê¸‰í•˜ëŠ” ì„¤ì • í—ˆìš©ì‹œì¼œì¤˜ì•¼í•˜ëŠ” ê²ƒì´ì—ˆë‹¤.  
    í•˜ì§€ë§Œ ë³´ì•ˆì´ìŠˆì™€ ì‚¬ìš©ìê°€ ì§ì ‘ í—ˆìš©ì„ í•´ì¤˜ì•¼í•˜ëŠ” ë¶ˆí•„ìš”í•¨ì´ ë°œìƒí•´ ì•ˆì¢‹ì€ ë°©ë²•ì´ë¼ê³  íŒë‹¨ë˜ì—ˆë‹¤.

   _í¬ë¡¬ ë¸Œë¼ìš°ì € ì„¤ì • â†’ ê°œì¸ ì •ë³´ ë³´í˜¸ ë° ë³´ì•ˆ â†’ ì‚¬ì´íŠ¸ ì„¤ì • â†’ ì¶”ê°€ ì½˜í…ì¸  ì„¤ì • â†’ ì•ˆì „í•˜ì§€ ì•Šì€ ì½˜í…ì¸ _

2. **âœ… Document: execCommand() ë©”ì„œë“œ ì‚¬ìš©í•˜ê¸°**  
   documentê°€ ë””ìì¸ ëª¨ë“œ, ì¦‰ í¸ì§‘ ê°€ëŠ¥í•œ ìƒíƒœê°€ ë˜ë©´ `exeCommand()`ë§¤ì„œë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ”ë° execCommandë¥¼ í˜¸ì¶œ í›„ copy ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•œë‹¤.  
   ë¡œì§ì€ inputê°™ì€ form ì—˜ë¦¬ë¨¼íŠ¸ì—ì„œë§Œ ì‚¬ìš© ê°€ëŠ¥í•œ `select()`ë©”ì„œë“œë¥¼ í†µí•´ ì„ íƒ ì˜ì—­ì„ ì§€ì •í•´ì¤€ë‹¤.
   `select()`ë¡œ ì„ íƒí•œ ì˜ì—­ì„ ë²”ìœ„ë¡œ execCommandì˜ copy ë©”ì„œë“œê°€ ì‘ë™í•˜ë©° í´ë¦½ë³´ë“œì— ì •ìƒì ìœ¼ë¡œ ì €ì¥ì´ ëœë‹¤.

   ```jsx
   function onCopy(e) {
     e.preventDefault();
     const content = uuid.current;
     // uuid => refë¡œ ë°›ì•„ì˜¨ inputì˜ current
     if (content) {
       content.select();
       document.execCommand('copy');
     }
   }
   ```

   [ğŸ”— ì°¸ê³ ìë£Œ | Document.execCommand() - Web API | MDN](https://developer.mozilla.org/ko/docs/Web/API/Document/execCommand)

---

## 5. ì¡°ì‚¬ ë°©ë²• êµ¬í˜„

```jsx
const orderId = new URL(urlStr).searchParams.get('orderId');
guestModeEl.innerHTML = `ì£¼ë¬¸ë²ˆí˜¸ <label for="order-id" id="order-id-label">${orderId}</label>
<input id="order-id" />ì™€ ë¹„ë°€ë²ˆí˜¸ë¥¼ ê¸°ì–µí•´ì£¼ì„¸ìš”!`;
const orderIdInput = document.querySelector('#order-id');
const orderIdCopy = document.querySelector('#order-id-label');

orderIdCopy.addEventListener('click', () => {
  orderIdInput.value = orderId;
  orderIdInput.select();
  document.execCommand('copy');
  alert('ì£¼ë¬¸ë²ˆí˜¸ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!');
});
```

`Document: execCommand()` ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ inputì´ë‚˜ textarea ê°™ì€ form ì—˜ë¦¬ë¨¼íŠ¸ì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•œ ì…ë ¥íƒœê·¸ë¥¼ ì´ìš©í•´ì•¼í•´ì„œ ê¸°ì¡´ì˜ button íƒœê·¸ì—ì„œ input íƒœê·¸ë¡œ ë³€ê²½í•˜ì˜€ë‹¤.

---

## 6. ê²°ê³¼ ê´€ì°°

ê¸°ëŠ¥ì€ ì˜ êµ¬í˜„ë˜ì§€ë§Œ input íƒœê·¸ê°€ select ë˜ì—ˆì„ ë•Œ í™”ë©´ìƒ ì…ë ¥íƒœê·¸ê°€ ì„ íƒëœ ëª¨ì–‘ì´ ë„ˆë¬´ ì´ìƒí–ˆë‹¤. ì‚¬ìš©ìê°€ í´ë¦­ì„ í•˜ê³ ì‹¶ì€ ëª¨ì–‘ì¸ ë²„íŠ¼ ë””ìì¸ì²˜ëŸ¼ ë³´ì´ê¸¸ ì›í–ˆë‹¤.

ê·¸ë˜ì„œ í´ë¦­ë˜ëŠ” ìš”ì†Œë¥¼ label íƒœê·¸ë¡œ ë°”ê¾¸ê³  input íƒœê·¸ì™€ ì—°ê²°ì‹œì¼œì£¼ì—ˆë‹¤. ê·¸ë¦¬ê³  input íƒœê·¸ë¥¼ ë³´ì´ì§€ì•Šê²Œ í•˜ê¸°ìœ„í•´ input íƒœê·¸ì— `disable` íƒœê·¸ ì†ì„±, `display: none`ë˜ëŠ” `visibillity: hidden` ìœ¼ë¡œ ìŠ¤íƒ€ì¼ì„ ì ìš©í•˜ì˜€ë”ë‹ˆ ì´ë²ˆì—ëŠ” ê¸°ëŠ¥ì´ êµ¬í˜„ë˜ì§€ì•Šì•˜ë‹¤.

input íƒœê·¸ë¥¼ ìˆ¨ê¸°ê±°ë‚˜ ë¹„í™œì„±í™”ë˜ê²Œ ë§Œë“¤ë©´ `Document: execCommand() ë©”ì„œë“œ`ê°€ ì ìš©ë˜ì§€ ì•ŠëŠ” ë“¯ í–ˆë‹¤. ê³ ë¯¼ ëì— `position: absolute`ë¡œ ìš”ì†Œë¥¼ ê²¹ì¹˜ê²Œí•´ì£¼ê³  `opacity: 0`ìœ¼ë¡œ input íƒœê·¸ë¥¼ ì„ì˜ë¡œ ìˆ¨ê²¨ì„œ ê¸°ëŠ¥ë„ ì‘ë™í•˜ê³  UI ìƒì—ì„œë„ label íƒœê·¸ë¥¼ button íƒœê·¸ì²˜ëŸ¼ ë³´ì´ë„ë¡ ì›í•˜ëŠ”ëŒ€ë¡œ ë³€ê²½í•˜ì˜€ë‹¤.

---

### ë§ˆì¹˜ë©°

`Document: execCommand()` ë©”ì„œë“œëŠ” í˜„ì¬ ëŒ€ë¶€ë¶„ ë¸Œë¼ìš°ì €ì—ì„œ ì§€ì›í•˜ê¸´ í•˜ì§€ë§Œ ì›¹ í‘œì¤€ì—ì„œëŠ” ì‚­ì œëœ ê¸°ëŠ¥ì´ë¯€ë¡œ clipboard.js ì™€ ê°™ì€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ëŠ”ê²ƒë„ ì¢‹ì€ ë°©ë²•ì¼ë“¯ í•˜ë‹¤.

ì•„ë‹ˆë©´ `window.isSecureContext` ì†ì„±ì„ ì‚¬ìš©í•´ HTTPS í”„ë¡œí† ì½œ í™˜ê²½ì¸ì§€ ì¡°ê±´ë¬¸ìœ¼ë¡œ í™•ì¸í•˜ì—¬ `Document: execCommand()`ì™€ `Clipboard API`ë¥¼ ì ì ˆíˆ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ë„ ì¢‹ì„ ê²ƒ ê°™ë‹¤.

```jsx
if (window.isSecureContext) {
  // Clipboard API ì‚¬ìš©
} else {
  // Document: execCommand() ë©”ì„œë“œ ì‚¬ìš©
}
```

[ğŸ”— ì°¸ê³ ìë£Œ | navigator.clipboard is undefined in JavaScript issue [Fixed] | bobbyhadz](https://bobbyhadz.com/blog/navigator-clipboard-is-undefined-in-javascript)

---

### ì¶”ê°€ ë‚´ìš©

> **HTTPì™€ HTTPS**
>
> - HTTPëŠ” ì›¹ì—ì„œ ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ê°€ ì–´ë–»ê²Œ ë©”ì„¸ì§€ë¥¼ ì„œë¡œ ì£¼ê³ ë°›ì„ì§€ ì •í•´ë†“ì€ ê·œì¹™ì´ì HTMLë¬¸ì„œê°™ì€ ì •ë³´ë“¤ì„ ë¹ ë¥´ê²Œ êµí™˜í•˜ê¸° ìœ„í•œ í”„ë¡œí† ì½œì´ë‹¤. ë¸Œë¼ìš°ì €ê°€ ì›¹ ì„œë²„ì— HTTPìš”ì²­ì„ í•˜ê³  ì›¹ ì„œë²„ì—ì„œ HTTPì‘ë‹µì„ í•˜ëŠ”ê²ƒì´ê³  ìš°ë¦¬ê°€ ì‚¬ì´íŠ¸ì— ë°©ë¬¸í•  ë•Œ ìš”ì²­ì„ í•˜ê³  ì‘ë‹µìœ¼ë¡œ ì‚¬ì´íŠ¸ë¥¼ ë³´ì—¬ì£¼ëŠ” ê²ƒì´ë‹¤.
> - HTTPSëŠ” HTTPì— ë°ì´í„° ì•”í˜¸í™”ê°€ ì¶”ê°€ëœ í”„ë¡œí† ì½œì´ë‹¤. ë¸Œë¼ìš°ì €ë‘ ì„œë²„ê°€ ë°ì´í„°ë¥¼ ì „ì†¡í•˜ê¸° ì „ì— ì•”í˜¸í™”ëœ ì—°ê²°ì„ ì„¤ì •í•œ ê²ƒì´ë©° ì•”í˜¸í™”ëœ ë°ì´í„°ë¥¼ ì „ì†¡í•œë‹¤.
